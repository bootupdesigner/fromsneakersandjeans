{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import*as React from'react';import Animated from\"react-native-web/dist/exports/Animated\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import{useInternalTheme}from\"../core/theming\";import Icon,{isEqualIcon,isValidIcon}from\"./Icon\";var CrossFadeIcon=function CrossFadeIcon(_ref){var color=_ref.color,size=_ref.size,source=_ref.source,themeOverrides=_ref.theme;var theme=useInternalTheme(themeOverrides);var _React$useState=React.useState(function(){return source;}),_React$useState2=_slicedToArray(_React$useState,2),currentIcon=_React$useState2[0],setCurrentIcon=_React$useState2[1];var _React$useState3=React.useState(null),_React$useState4=_slicedToArray(_React$useState3,2),previousIcon=_React$useState4[0],setPreviousIcon=_React$useState4[1];var _React$useRef=React.useRef(new Animated.Value(1)),fade=_React$useRef.current;var scale=theme.animation.scale;if(currentIcon!==source){setPreviousIcon(function(){return currentIcon;});setCurrentIcon(function(){return source;});}React.useEffect(function(){if(isValidIcon(previousIcon)&&!isEqualIcon(previousIcon,currentIcon)){fade.setValue(1);Animated.timing(fade,{duration:scale*200,toValue:0,useNativeDriver:true}).start();}},[currentIcon,previousIcon,fade,scale]);var opacityPrev=fade;var opacityNext=previousIcon?fade.interpolate({inputRange:[0,1],outputRange:[1,0]}):1;var rotatePrev=fade.interpolate({inputRange:[0,1],outputRange:['-90deg','0deg']});var rotateNext=previousIcon?fade.interpolate({inputRange:[0,1],outputRange:['0deg','-180deg']}):'0deg';return React.createElement(View,{style:[styles.content,{height:size,width:size}]},previousIcon?React.createElement(Animated.View,{style:[styles.icon,{opacity:opacityPrev,transform:[{rotate:rotatePrev}]}]},React.createElement(Icon,{source:previousIcon,size:size,color:color,theme:theme})):null,React.createElement(Animated.View,{style:[styles.icon,{opacity:opacityNext,transform:[{rotate:rotateNext}]}]},React.createElement(Icon,{source:currentIcon,size:size,color:color,theme:theme})));};export default CrossFadeIcon;var styles=StyleSheet.create({content:{alignItems:'center',justifyContent:'center'},icon:{position:'absolute',top:0,left:0,right:0,bottom:0}});","map":{"version":3,"sources":["CrossFadeIcon.tsx"],"names":["React","useInternalTheme","Icon","isEqualIcon","isValidIcon","CrossFadeIcon","color","size","source","theme","themeOverrides","currentIcon","setCurrentIcon","useState","previousIcon","setPreviousIcon","current","fade","useRef","Animated","Value","scale","animation","useEffect","setValue","timing","duration","toValue","useNativeDriver","start","opacityPrev","opacityNext","interpolate","inputRange","outputRange","rotatePrev","rotateNext","styles","content","height","width","icon","opacity","transform","rotate","StyleSheet","create","alignItems","justifyContent","position","top","left","right","bottom"],"mappings":"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","sourceRoot":"../../src","sourcesContent":["import * as React from 'react';\nimport { Animated, StyleSheet, View } from 'react-native';\nimport { useInternalTheme } from '../core/theming';\nimport Icon, { isEqualIcon, isValidIcon } from './Icon';\nconst CrossFadeIcon = _ref => {\n  let {\n    color,\n    size,\n    source,\n    theme: themeOverrides\n  } = _ref;\n  const theme = useInternalTheme(themeOverrides);\n  const [currentIcon, setCurrentIcon] = React.useState(() => source);\n  const [previousIcon, setPreviousIcon] = React.useState(null);\n  const {\n    current: fade\n  } = React.useRef(new Animated.Value(1));\n  const {\n    scale\n  } = theme.animation;\n  if (currentIcon !== source) {\n    setPreviousIcon(() => currentIcon);\n    setCurrentIcon(() => source);\n  }\n  React.useEffect(() => {\n    if (isValidIcon(previousIcon) && !isEqualIcon(previousIcon, currentIcon)) {\n      fade.setValue(1);\n      Animated.timing(fade, {\n        duration: scale * 200,\n        toValue: 0,\n        useNativeDriver: true\n      }).start();\n    }\n  }, [currentIcon, previousIcon, fade, scale]);\n  const opacityPrev = fade;\n  const opacityNext = previousIcon ? fade.interpolate({\n    inputRange: [0, 1],\n    outputRange: [1, 0]\n  }) : 1;\n  const rotatePrev = fade.interpolate({\n    inputRange: [0, 1],\n    outputRange: ['-90deg', '0deg']\n  });\n  const rotateNext = previousIcon ? fade.interpolate({\n    inputRange: [0, 1],\n    outputRange: ['0deg', '-180deg']\n  }) : '0deg';\n  return /*#__PURE__*/React.createElement(View, {\n    style: [styles.content, {\n      height: size,\n      width: size\n    }]\n  }, previousIcon ? /*#__PURE__*/React.createElement(Animated.View, {\n    style: [styles.icon, {\n      opacity: opacityPrev,\n      transform: [{\n        rotate: rotatePrev\n      }]\n    }]\n  }, /*#__PURE__*/React.createElement(Icon, {\n    source: previousIcon,\n    size: size,\n    color: color,\n    theme: theme\n  })) : null, /*#__PURE__*/React.createElement(Animated.View, {\n    style: [styles.icon, {\n      opacity: opacityNext,\n      transform: [{\n        rotate: rotateNext\n      }]\n    }]\n  }, /*#__PURE__*/React.createElement(Icon, {\n    source: currentIcon,\n    size: size,\n    color: color,\n    theme: theme\n  })));\n};\nexport default CrossFadeIcon;\nconst styles = StyleSheet.create({\n  content: {\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  icon: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0\n  }\n});\n//# sourceMappingURL=CrossFadeIcon.js.map"]},"metadata":{},"sourceType":"module"}